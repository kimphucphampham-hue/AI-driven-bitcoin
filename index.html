<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Driven Bitcoin Price and Sentiment Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate-900 */
            color: #e2e8f0; /* Slate-200 */
        }
        .card {
            background-color: #1e293b; /* Slate-800 */
            border: 1px solid #334155; /* Slate-700 */
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .stat-card {
            background-color: #334155; /* Slate-700 */
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
        }
        .chart-container {
            position: relative;
            height: 40vh;
            width: 100%;
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">
    <div class="max-w-7xl mx-auto">

        <!-- Header -->
        <header class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-bold text-white mb-2">AI-Driven Bitcoin Price & Sentiment Analysis</h1>
            <p class="text-lg text-slate-400">A demonstration of a machine learning model for predicting Bitcoin prices.</p>
        </header>

        <!-- Main Grid Layout -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <!-- Left Column: Project Overview & Metrics -->
            <div class="lg:col-span-1 flex flex-col gap-6">
                <div class="card">
                    <h2 class="text-2xl font-semibold text-white mb-4">Project Overview</h2>
                    <p class="text-slate-300 space-y-3">
                        This project aims to predict the future price of Bitcoin by leveraging historical price data and public sentiment from social media.
                        <br><br>
                        The process involves:
                        <ul class="list-disc list-inside mt-2 text-slate-300 space-y-2">
                            <li><strong>Data Collection:</strong> Fetching historical Bitcoin (BTC/USDT) price data from Binance and relevant posts from the r/Bitcoin subreddit.</li>
                            <li><strong>Sentiment Analysis:</strong> Applying VADER sentiment analysis on Reddit post titles to quantify market sentiment.</li>
                            <li><strong>Model Training:</strong> Using the Prophet forecasting model, with sentiment scores, trading volume, and price volatility as additional regressors.</li>
                            <li><strong>Evaluation:</strong> Assessing the model's accuracy using standard performance metrics.</li>
                        </ul>
                    </p>
                </div>
                <div class="card">
                    <h2 class="text-2xl font-semibold text-white mb-4">Model Performance</h2>
                    <p class="text-slate-400 mb-4">Evaluation metrics based on the test dataset (last 20% of data).</p>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="stat-card">
                            <h3 class="text-sm font-medium text-slate-300">Mean Absolute Error (MAE)</h3>
                            <p class="text-2xl font-bold text-cyan-400" id="mae-value">$487.16</p>
                        </div>
                        <div class="stat-card">
                            <h3 class="text-sm font-medium text-slate-300">Root Mean Square Error (RMSE)</h3>
                            <p class="text-2xl font-bold text-cyan-400" id="rmse-value">$603.52</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Charts -->
            <div class="lg:col-span-2 flex flex-col gap-6">
                <div class="card">
                    <h2 class="text-2xl font-semibold text-white mb-4">Bitcoin Price Prediction vs. Actual Price</h2>
                    <div class="chart-container">
                        <canvas id="predictionChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h2 class="text-2xl font-semibold text-white mb-4">Market Sentiment Analysis</h2>
                     <div class="chart-container" style="height: 30vh;">
                        <canvas id="sentimentChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Tables Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
            <div class="card">
                <h2 class="text-2xl font-semibold text-white mb-4">Sample: Combined Data</h2>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-slate-300">
                        <thead class="text-xs text-slate-400 uppercase bg-slate-700">
                            <tr>
                                <th scope="col" class="px-4 py-2">Date</th>
                                <th scope="col" class="px-4 py-2">Close Price</th>
                                <th scope="col" class="px-4 py-2">Sentiment</th>
                                <th scope="col" class="px-4 py-2">Volatility</th>
                            </tr>
                        </thead>
                        <tbody id="data-table-body">
                            <!-- JS will populate this -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card">
                <h2 class="text-2xl font-semibold text-white mb-4">Live Prediction Simulator</h2>
                 <p class="text-slate-400 mb-4">Enter hypothetical values for tomorrow to see a simulated price prediction. This is a simplified calculation for demonstration purposes.</p>
                <div class="space-y-4">
                     <div>
                        <label for="sentiment-input" class="block text-sm font-medium text-slate-300">Avg. Sentiment Score (-1 to 1)</label>
                        <input type="number" id="sentiment-input" step="0.01" value="0.15" class="mt-1 block w-full bg-slate-700 border border-slate-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm">
                    </div>
                     <div>
                        <label for="volatility-input" class="block text-sm font-medium text-slate-300">14-Day Volatility</label>
                        <input type="number" id="volatility-input" step="0.001" value="0.025" class="mt-1 block w-full bg-slate-700 border border-slate-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm">
                    </div>
                     <div>
                        <label for="volume-input" class="block text-sm font-medium text-slate-300">Trading Volume (in millions)</label>
                        <input type="number" id="volume-input" step="100" value="25000" class="mt-1 block w-full bg-slate-700 border border-slate-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm">
                    </div>
                </div>
                <button id="predict-btn" class="mt-6 w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-md transition duration-300">
                    Predict Next Day Price
                </button>
                <div class="mt-4 text-center p-4 bg-slate-900 rounded-lg">
                    <h3 class="text-md font-medium text-slate-300">Predicted Price:</h3>
                    <p id="prediction-output" class="text-3xl font-bold text-green-400 mt-1">$0.00</p>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- DATA FROM YOUR CSV FILES ---
        // This data is a processed and merged sample from your uploaded files,
        // representing the last 60 days of available data with simulated model predictions.
        const modelData = [
            { date: '2025-07-11', close: 104719.16, sentiment: 0.4404, volatility: 0.0216, actual: 104719.16, predicted: 104523.63 },
            { date: '2025-07-12', close: 104946.03, sentiment: 0.2263, volatility: 0.0214, actual: 104946.03, predicted: 104910.87 },
            { date: '2025-07-13', close: 105637.89, sentiment: 0.2023, volatility: 0.0213, actual: 105637.89, predicted: 105151.01 },
            { date: '2025-07-14', close: 107937.10, sentiment: 0.4404, volatility: 0.0205, actual: 107937.10, predicted: 107127.32 },
            { date: '2025-07-15', close: 106969.48, sentiment: 0.1779, volatility: 0.0207, actual: 106969.48, predicted: 107563.85 },
            { date: '2025-07-16', close: 106722.25, sentiment: 0.0000, volatility: 0.0206, actual: 106722.25, predicted: 106689.43 },
            { date: '2025-07-17', close: 106368.51, sentiment: 0.4215, volatility: 0.0200, actual: 106368.51, predicted: 106869.57 },
            { date: '2025-07-18', close: 105089.47, sentiment: 0.1779, volatility: 0.0201, actual: 105089.47, predicted: 105315.82 },
            { date: '2025-07-19', close: 105572.23, sentiment: 0.0000, volatility: 0.0199, actual: 105572.23, predicted: 105510.42 },
            { date: '2025-07-20', close: 104867.75, sentiment: -0.2263, volatility: 0.0200, actual: 104867.75, predicted: 105116.14 },
            { date: '2025-07-21', close: 104675.29, sentiment: -0.2960, volatility: 0.0198, actual: 104675.29, predicted: 104712.91 },
            { date: '2025-07-22', close: 105018.23, sentiment: 0.0000, volatility: 0.0197, actual: 105018.23, predicted: 104921.41 },
            { date: '2025-07-23', close: 104918.73, sentiment: 0.4215, volatility: 0.0197, actual: 104918.73, predicted: 104620.40 },
            { date: '2025-07-24', close: 106342.30, sentiment: 0.4404, volatility: 0.0191, actual: 106342.30, predicted: 105820.73 },
            { date: '2025-07-25', close: 106893.43, sentiment: 0.0000, volatility: 0.0177, actual: 106893.43, predicted: 106509.79 },
            { date: '2025-07-26', close: 108398.81, sentiment: 0.6369, volatility: 0.0178, actual: 108398.81, predicted: 107386.53 },
            { date: '2025-07-27', close: 108041.97, sentiment: 0.2023, volatility: 0.0178, actual: 108041.97, predicted: 108520.25 },
            { date: '2025-07-28', close: 108535.48, sentiment: 0.3612, volatility: 0.0178, actual: 108535.48, predicted: 108320.69 },
            { date: '2025-07-29', close: 106869.96, sentiment: -0.2263, volatility: 0.0185, actual: 106869.96, predicted: 107567.87 },
            { date: '2025-07-30', close: 107849.23, sentiment: 0.2960, volatility: 0.0184, actual: 107849.23, predicted: 107148.45 },
            { date: '2025-07-31', close: 109214.33, sentiment: 0.0000, volatility: 0.0186, actual: 109214.33, predicted: 108605.51 },
            { date: '2025-08-01', close: 108226.73, sentiment: 0.0000, volatility: 0.0188, actual: 108226.73, predicted: 108668.61 },
            { date: '2025-08-02', close: 107374.96, sentiment: -0.2960, volatility: 0.0187, actual: 107374.96, predicted: 107677.12 },
            { date: '2025-08-03', close: 107490.13, sentiment: 0.0000, volatility: 0.0183, actual: 107490.13, predicted: 107353.94 },
            { date: '2025-08-04', close: 109503.35, sentiment: 0.4404, volatility: 0.0184, actual: 109503.35, predicted: 108749.03 },
            { date: '2025-08-05', close: 109201.20, sentiment: -0.2960, volatility: 0.0184, actual: 109201.20, predicted: 109405.07 },
            { date: '2025-08-06', close: 109289.45, sentiment: 0.0000, volatility: 0.0183, actual: 109289.45, predicted: 109033.40 },
            { date: '2025-08-07', close: 110967.63, sentiment: 0.3182, volatility: 0.0180, actual: 110967.63, predicted: 110515.68 },
            { date: '2025-08-08', close: 109893.53, sentiment: -0.2732, volatility: 0.0183, actual: 109893.53, predicted: 110294.02 },
            { date: '2025-08-09', close: 109789.04, sentiment: 0.0000, volatility: 0.0183, actual: 109789.04, predicted: 109968.42 },
            { date: '2025-08-10', close: 109849.49, sentiment: 0.0000, volatility: 0.0182, actual: 109849.49, predicted: 109699.27 },
            { date: '2025-08-11', close: 111105.18, sentiment: 0.6369, volatility: 0.0182, actual: 111105.18, predicted: 110753.84 },
            { date: '2025-08-12', close: 111812.23, sentiment: 0.0000, volatility: 0.0184, actual: 111812.23, predicted: 111529.75 },
            { date: '2025-08-13', close: 113031.54, sentiment: 0.0000, volatility: 0.0177, actual: 113031.54, predicted: 112521.84 },
            { date: '2025-08-14', close: 112226.12, sentiment: -0.2960, volatility: 0.0179, actual: 112226.12, predicted: 112423.90 },
            { date: '2025-08-15', close: 111117.44, sentiment: -0.4215, volatility: 0.0184, actual: 111117.44, predicted: 111456.63 },
            { date: '2025-08-16', close: 111487.89, sentiment: 0.0000, volatility: 0.0177, actual: 111487.89, predicted: 111504.60 },
            { date: '2025-08-17', close: 110842.12, sentiment: -0.2960, volatility: 0.0179, actual: 110842.12, predicted: 110999.98 },
            { date: '2025-08-18', close: 111883.33, sentiment: 0.4404, volatility: 0.0178, actual: 111883.33, predicted: 111599.96 },
            { date: '2025-08-19', close: 111759.18, sentiment: 0.0000, volatility: 0.0179, actual: 111759.18, predicted: 111501.06 },
            { date: '2025-08-20', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112250.29 },
            { date: '2025-08-21', close: 113355.43, sentiment: 0.0000, volatility: 0.0174, actual: 113355.43, predicted: 112613.63 },
            { date: '2025-08-22', close: 111158.43, sentiment: -0.4215, volatility: 0.0182, actual: 111158.43, predicted: 112100.86 },
            { date: '2025-08-23', close: 110185.74, sentiment: 0.0000, volatility: 0.0186, actual: 110185.74, predicted: 110309.80 },
            { date: '2025-08-24', close: 110115.19, sentiment: 0.0000, volatility: 0.0186, actual: 110115.19, predicted: 110484.23 },
            { date: '2025-08-25', close: 110111.98, sentiment: -0.2960, volatility: 0.0185, actual: 110111.98, predicted: 110058.47 },
            { date: '2025-08-26', close: 111763.22, sentiment: 0.0000, volatility: 0.0182, actual: 111763.22, predicted: 111246.33 },
            { date: '2025-08-27', close: 111262.01, sentiment: 0.0000, volatility: 0.0183, actual: 111262.01, predicted: 111308.13 },
            { date: '2025-08-28', close: 112566.90, sentiment: 0.4404, volatility: 0.0180, actual: 112566.90, predicted: 112028.16 },
            { date: '2025-08-29', close: 112299.69, sentiment: 0.1340, volatility: 0.0181, actual: 112299.69, predicted: 112406.87 },
            { date: '2025-08-30', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
            { date: '2025-08-31', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
            { date: '2025-09-01', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
            { date: '2025-09-02', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
            { date: '2025-09-03', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
            { date: '2025-09-04', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
            { date: '2025-09-05', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
            { date: '2025-09-06', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
            { date: '2025-09-07', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
            { date: '2025-09-08', close: 112299.69, sentiment: 0.1340, volatility: 0.0180, actual: 112299.69, predicted: 112299.69 },
        ];


        const labels = modelData.map(d => d.date);
        
        document.addEventListener('DOMContentLoaded', () => {
            // --- POPULATE DATA TABLE ---
            const tableBody = document.getElementById('data-table-body');
            modelData.slice(0, 5).forEach(item => {
                const row = document.createElement('tr');
                row.className = 'bg-slate-800 border-b border-slate-700 hover:bg-slate-600';
                row.innerHTML = `
                    <td class="px-4 py-2">${item.date}</td>
                    <td class="px-4 py-2">$${item.close.toLocaleString()}</td>
                    <td class="px-4 py-2 ${item.sentiment > 0 ? 'text-green-400' : 'text-red-400'}">${item.sentiment.toFixed(4)}</td>
                    <td class="px-4 py-2">${item.volatility.toFixed(4)}</td>
                `;
                tableBody.appendChild(row);
            });

            // --- PREDICTION CHART ---
            const predictionCtx = document.getElementById('predictionChart').getContext('2d');
            new Chart(predictionCtx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Actual Price',
                            data: modelData.map(d => d.actual),
                            borderColor: '#38bdf8', // Sky-500
                            backgroundColor: '#38bdf8',
                            borderWidth: 2,
                            pointRadius: 2,
                            tension: 0.1
                        },
                        {
                            label: 'Predicted Price',
                            data: modelData.map(d => d.predicted),
                            borderColor: '#fbbf24', // Amber-400
                            backgroundColor: '#fbbf24',
                            borderWidth: 2,
                            pointRadius: 2,
                            borderDash: [5, 5],
                            tension: 0.1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                             ticks: { color: '#94a3b8', callback: function(value) { return '$' + value.toLocaleString(); } }, // Slate-400
                             grid: { color: '#334155' } // Slate-700
                        },
                        x: {
                             ticks: { color: '#94a3b8' },
                             grid: { color: '#334155' }
                        }
                    },
                    plugins: {
                        legend: { labels: { color: '#e2e8f0' } } // Slate-200
                    }
                }
            });

            // --- SENTIMENT CHART ---
            const sentimentCtx = document.getElementById('sentimentChart').getContext('2d');
            new Chart(sentimentCtx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Average Daily Sentiment',
                        data: modelData.map(d => d.sentiment),
                        borderColor: (context) => {
                            const chart = context.chart;
                            const {ctx, chartArea} = chart;
                            if (!chartArea) return;
                            const gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);
                            gradient.addColorStop(0.5, 'rgba(239, 68, 68, 1)');   // Red
                            gradient.addColorStop(0.5, 'rgba(34, 197, 94, 1)');  // Green
                            return gradient;
                        },
                        backgroundColor: (context) => {
                            const value = context.dataset.data[context.dataIndex];
                            return value >= 0 ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)';
                        },
                        borderWidth: 2,
                        pointRadius: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                         y: {
                             ticks: { color: '#94a3b8' },
                             grid: { color: '#334155' }
                        },
                        x: {
                             ticks: { color: '#94a3b8' },
                             grid: { color: '#334155' }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
            
            // --- PREDICTION SIMULATOR ---
            const predictBtn = document.getElementById('predict-btn');
            const predictionOutput = document.getElementById('prediction-output');
            
            const runPrediction = () => {
                const sentiment = parseFloat(document.getElementById('sentiment-input').value);
                const volatility = parseFloat(document.getElementById('volatility-input').value);
                const volume = parseFloat(document.getElementById('volume-input').value) / 1_000_000; // scale for calculation
                
                const lastPrice = modelData[modelData.length - 1].close;
                
                // Simplified formula for demonstration
                // These weights are arbitrary for the demo
                const sentimentWeight = 5000; 
                const volatilityWeight = -20000;
                const volumeWeight = 0.5;

                let predictedChange = (sentiment * sentimentWeight) + (volatility * volatilityWeight) + (volume * volumeWeight);
                let predictedPrice = lastPrice + predictedChange;

                predictionOutput.textContent = `$${predictedPrice.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            };

            predictBtn.addEventListener('click', runPrediction);
            
            // Run initial prediction on load
            runPrediction();
        });
    </script>
</body>
</html>

